import{_ as d,c as i,b as t,w as g,e as r,F as c,r as k,o,d as p,t as m}from"./index-B47dbz77.js";const M={name:"GuestBook",data(){return{nickname:"",message:"",messages:[],isLogin:!1}},methods:{login(){if(!this.nickname.trim()){alert("昵称不能为空！");return}this.isLogin=!0,this.loadMessages()},submitMessage(){if(!this.message.trim()){alert("留言内容不能为空！");return}const a={nickname:this.nickname,content:this.message,timestamp:new Date().toISOString()};this.messages.push(a),this.message="",thisMessages.save()},saveMessages(){localStorage.setItem("guestbookMessages",JSON.stringify(this.messages))},loadMessages(){const a=localStorage.getItem("guestbookMessages");a&&(this.messages=JSON.parse(a))}},mounted(){this.loadMessages()}},b={class:"guestbook-container"},f={key:0,class:"login-section"},h={key:1,class:"message-section"},v={class:"messages-list"};function x(a,s,S,_,n,l){return o(),i("div",b,[s[5]||(s[5]=t("h2",null,"在线留言",-1)),n.isLogin?(o(),i("div",h,[g(t("textarea",{"onUpdate:modelValue":s[2]||(s[2]=e=>n.message=e),placeholder:"请输入您的留言",class:"message-input"},null,512),[[r,n.message]]),t("button",{onClick:s[3]||(s[3]=(...e)=>l.submitMessage&&l.submitMessage(...e)),class:"submit-button"},"提交留言")])):(o(),i("div",f,[g(t("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>n.nickname=e),type:"text",placeholder:"请输入您的昵称",class:"login-input"},null,512),[[r,n.nickname]]),t("button",{onClick:s[1]||(s[1]=(...e)=>l.login&&l.login(...e)),class:"login-button"},"登录")])),t("div",v,[s[4]||(s[4]=t("h3",null,"留言列表",-1)),t("ul",null,[(o(!0),i(c,null,k(n.messages,(e,u)=>(o(),i("li",{key:u,class:"message-item"},[t("strong",null,m(e.nickname),1),p(": "+m(e.content),1)]))),128))])])])}const w=d(M,[["render",x],["__scopeId","data-v-7f3dae06"]]);export{w as default};
